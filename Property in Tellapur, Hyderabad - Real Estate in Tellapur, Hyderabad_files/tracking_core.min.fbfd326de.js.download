!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var a=e();for(var r in a)("object"==typeof exports?exports:t)[r]=a[r]}}(self,(()=>((()=>{function t(){this._section="",this._profileId="",this._subscriptions=[],this._subpage="",this._starttime="",this._endtime="",Object.defineProperties(this,{section:{get:function(){return this._section}},profileId:{get:function(){return this._profileId.concat("")||""}},subpage:{get:function(){return this._subpage.concat("")||""}},starttime:{get:function(){return this._starttime}},endtime:{get:function(){return this._endtime}}})}window.trackingStore||(window.trackingStore=new t),t.prototype.setProfileId=function(t){return this._profileId=t,this.emit(),this},t.prototype.removeProfileId=function(){return this._profileId="",this.emit(),this},t.prototype.setStarttime=function(t){return this._starttime=t,this.emit(),this},t.prototype.removeStarttime=function(){return this._starttime="",this.emit(),this},t.prototype.setEndtime=function(t){return this._endtime=t,this.emit(),this},t.prototype.removeEndtime=function(){return this._endtime="",this.emit(),this},t.prototype.setSection=function(t){return this._section=t,this.emit(),this},t.prototype.removeSection=function(){return this._section="",this.emit(),this},t.prototype.setSubpage=function(t){return this._subpage=t,this.emit(),this},t.prototype.removeSubpage=function(){return this._subpage="",this.emit(),this},t.prototype.subscribe=function(t){var e=this._subscriptions.push(t);return function(){this._subscriptions.filter((function(t,a){return a!=e}))}},t.prototype.emit=function(){var t=this;this._subscriptions.forEach((function(e){e(t)}))}})(),(()=>{function t(){}var e,a;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},writable:!0,configurable:!0});var r="https://www.99acres.com/",n=new Set,i=new Set,o=new Set,s=new Set,c=[],g={},u=!1,l=new Set,d=new Set;function m(){return"http:"!==window.location.protocol||-1!==window.location.hostname.indexOf("localhost")||-1!==window.location.hostname.indexOf("sanity")||-1!==window.location.hostname.indexOf("setupdev")}function f(t){if("undefined"!=typeof document)for(var e=document.cookie.split(";"),a=0;a<e.length;a++){var r=e[a].trim();if(0===r.indexOf(t+"="))return r.substring(t.length+1)}return null}var p={doClickStreamTracking:function(t){var e="trackingData[]="+encodeURIComponent(JSON.stringify(t));p.post("/do/clickStreamTracking/ClickStream/trackData",e)},_trackerId:0,getHttp:function(){var t=null;try{t=new XMLHttpRequest}catch(t){console.error("XMLHttpRequest object not found")}return t},post:function(t,e){if(m()){var a=this.getHttp();if(a){a.open("POST",t,!0);var r,n=e+"&is_ajax=1";try{r=JSON.parse(localStorage.getItem("a"))}catch(t){console.log(t)}a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.setRequestHeader("deviceid",r&&r.b),a.setRequestHeader("platform",h.getUserAgent()),a.setRequestHeader("pagename",h.getPageName()),a.send(n)}}},trackingConstructor:function(t){if(this.action={page:t.page||"",event:t.event||"",stage:t.stage||"FINAL",referrer_section:t.referrer_section||"",source:t.source||""},t.section&&(this.action.section=t.section),t.trigger&&(this.action.trigger=t.trigger),t.workflow&&(this.action.workflow=t.workflow),t.scope&&(this.action.scope=t.scope),t.page_type&&(this.action.page_type=t.page_type),t.page_version&&(this.action.page_version=t.page_version),t.ui_attributes&&Object.getOwnPropertyNames(t.ui_attributes).length){var e=JSON.parse(t.ui_attributes);e.ui_attributes&&(this.ui_attributes=e.ui_attributes)}t.event_info&&(this.event_info=t.event_info);var a={};navigator&&navigator.connection&&navigator.connection.effectiveType&&(a={user_network_type:navigator.connection.effectiveType,downlink_speed:navigator.connection.downlink,save_data_applied:navigator.connection.saveData}),objSdk={custom_object:{isSDK:"true",user_network_data:a,isBrowserCookieEnabled:navigator.cookieEnabled}},this.custom_object=Object.assign({},objSdk.custom_object),t.customData&&(t.customData.search&&Object.getOwnPropertyNames(t.customData.search).length&&(this.search=t.customData.search),t.customData.payload&&Object.getOwnPropertyNames(t.customData.payload).length&&(this.payload=t.customData.payload),t.customData.custom_object&&Object.getOwnPropertyNames(t.customData.custom_object).length&&(this.custom_object=Object.assign({},t.customData.custom_object,objSdk.custom_object)));var r=h.getMessageId();r&&(this.message_id=r),t.platform&&(this.platform=t.platform),this.date_time=h.getDateTime(),this.tracking_id=document.getElementById("__tracking_id")?document.getElementById("__tracking_id").value:"",this.ab_cookie=f("99_ab")||"",document.referrer?this.referrer=document.referrer:f("tracking_referrer")?this.referrer=f("tracking_referrer"):this.referrer="NOT_EXIST",f("tracking_app_version")&&(this.app_version=f("tracking_app_version")),f("tracking_url")?this.current_url=f("tracking_url"):window.location.href?this.current_url=window.location.href:this.current_url="NOT_EXIST"},_track:function(t){if(this._batcher){var e=this.doClickStreamTracking.bind(this);this._batcher.batch(t,e)}else try{this.doClickStreamTracking(t,!0)}catch(t){console.error("clickStream object not found")}},postMessageToWorker:function(t){this._batcher&&t&&t.event&&"beforeunload"==t.event&&this._batcher.sendMessage(t)},_batcher:null,initializeBatching:function(t,e){function a(a,r){(a||r)&&(this._worker=new Worker("/universalapp/js/batch_tracking.min.4e8705da4.js"),this._worker.postMessage({batchSize:t,batchTimeout:e})),this._blackList=new Set(["PAGE_VIEW"]),this._blackList.add("SECTION_OUT"),this._blackList.add("SEARCH"),this._blackList.add("CLICK"),this._blackList.add("PAGE_PERFORMANCE"),this._blackList.add("PAGE_SCROLL"),this._blackList.add("COMPARE"),this._blackList.add("VIDEO_UPLOAD"),this._blackList.add("TAB_VIEW"),this._blackList.add("TAB_SEARCH")}return t=t||5,e=e||3e4,a.prototype.batch=function(t,e){return this._worker&&!this._blackList.has(t.action.event)?this._worker.postMessage(t):e(t,!0),this},a.prototype.sendMessage=function(t){return this._worker&&this._worker.postMessage(t),this},a.prototype.blackList=function(t){this._blackList.add(t)},a.prototype.removeFromBlacklist=function(t){this._blackList.delete(t)},this._batcher=new a(t,e),this.blacklistBatching=b._batcher.blackList,this.removeFromBatchingBlacklist=b._batcher.removeFromBlacklist,this},blacklistBatching:t,removeFromBatchingBlacklist:t},b=Object.assign({},b,p);b.listeners=function(){this.callFunctionsOnBeforeLoad=function(){h.triggerPageViewLoad()},this.callFunctionsOnLoad=function(){h.setSessionSource(),h.setPageStartTime(),h.triggerPageView(),h.addIntersectionObservableTargets(),h.addMutationObservableTargets(),h.triggerSectionLoaded(),h.addClickListenersToAllElements(),h.triggerScrollTracking(),setTimeout((()=>{h.srpFunctionsOnLoad()}),2e3),setTimeout((()=>{h.localitySrpFunctionsOnLoad()}),2e3),setTimeout((()=>{h.npsrpFunctionsOnLoad()}),2e3)},this.srpFunctionsOnLoad=function(){h.addsrpMutationObservableTargets()},this.npsrpFunctionsOnLoad=function(){h.addnpsrpMutationObservableTargets()},this.localitySrpFunctionsOnLoad=function(){h.addLocalitySrpMutationObservableTargets()},this.callFunctionsOnFocus=function(){h.setSessionSource()},this.callFunctionsOnPause=function(){h.triggerPauseEvent()},this.callFunctionsOnBeforeUnload=function(){h.createTrackDataCallForSectionOutEvent(),h.flushBatchBuffer()},this.isObjectExists=function(t,e,a){return a.some((function(a){return a[t]===e}))},this.getMessageId=function(){var t,e=document.getElementsByTagName("BODY")[0];return e&&e.getAttribute("data-messageid")&&""!=e.getAttribute("data-messageid")&&(t=document.getElementsByTagName("BODY")[0].getAttribute("data-messageid")),t},this.getDateTime=function(){return(new Date).getTime()/1e3},this.getPageName=function(){var t="";return document.getElementsByTagName("BODY")[0].getAttribute("data-label")&&(t=document.getElementsByTagName("BODY")[0].getAttribute("data-label")),t},this.getScope=function(){var t="";return document.getElementsByTagName("BODY")[0].getAttribute("scope")&&(t=document.getElementsByTagName("BODY")[0].getAttribute("scope")),t},this.getReferrerSection=function(){var t="";return document.getElementsByTagName("BODY")[0].getAttribute("data-referrer_section")&&(t=document.getElementsByTagName("BODY")[0].getAttribute("data-referrer_section")),t},this.getPageType=function(){var t="";return document.getElementsByTagName("BODY")[0].getAttribute("page_type")&&(t=document.getElementsByTagName("BODY")[0].getAttribute("page_type")),t},this.getPageVersion=function(){var t="";return document.getElementsByTagName("BODY")[0].getAttribute("page_version")&&(t=document.getElementsByTagName("BODY")[0].getAttribute("page_version")),t},this.getPlatformValue=function(){var t="";if(document.getElementsByTagName("BODY")[0])if(document.getElementsByTagName("BODY")[0].getAttribute("data-platform"))t=document.getElementsByTagName("BODY")[0].getAttribute("data-platform");else if(f("tracking_platform"))t=f("tracking_platform");else{var e=new URLSearchParams(window.location.search);if(e.has("tracking_platform")){var a=e.get("tracking_platform").toLowerCase();"android"==a?t="Android":"ios"==a&&(t="IOS")}}return t},this.getUserAgent=function(){return window.navigator.userAgent.includes("Mobile")?"mobile":"desktop"},this.getUiAttributes=function(t){for(var e={};;){if(t.getAttribute("data-label")&&("true"==t.getAttribute("topmost")||"BODY"==t.nodeName)){t.getAttribute("data-ui_attributes")&&(e=t.getAttribute("data-ui_attributes"));break}t=t.parentNode}return e},this.createCustomInfo=function(t,e){var a={},r={},n=h.getPageName();document.getElementsByTagName("BODY")[0]&&(a=document.getElementsByTagName("BODY")[0].getAttribute("data-custominfo")?JSON.parse(document.getElementsByTagName("BODY")[0].getAttribute("data-custominfo")):{}),"LOCATION_OVERVIEW"!=n&&document.getElementById("srpClickstreamObject")&&(a=document.getElementById("srpClickstreamObject").value?JSON.parse(document.getElementById("srpClickstreamObject").value):{}),"NPSRP"==n&&document.getElementById("npsrpClickstreamObject")&&(a=document.getElementById("npsrpClickstreamObject").value?JSON.parse(document.getElementById("npsrpClickstreamObject").value):{}),"LOCATION_SRP"==n&&document.getElementById("localitySrpClickstreamObject")&&(a=document.getElementById("localitySrpClickstreamObject").value?JSON.parse(document.getElementById("localitySrpClickstreamObject").value):{}),null!=t&&(r=t.getAttribute("data-custominfo")?JSON.parse(t.getAttribute("data-custominfo")):{}),e&&(r=e);var i=Object.assign({},a.custom_object,r.custom_object),o=Object.assign({},a.payload,r.payload);return a.payload&&r.payload&&(a.payload.search_results&&r.payload.search_results&&(o={...o,search_results:{...a.payload.search_results,...r.payload.search_results}}),a.payload.property&&r.payload.property&&(o={...o,property:{...a.payload.property,...r.payload.property}}),a.payload.project&&r.payload.project&&(o={...o,project:{...a.payload.project,...r.payload.project}}),a.payload.user&&r.payload.user&&(o={...o,user:{...a.payload.user,...r.payload.user}}),a.payload.recommendation&&r.payload.recommendation&&(o={...o,recommendation:{...a.payload.recommendation,...r.payload.recommendation}})),{custom_object:i,payload:o,search:Object.assign({},a.search,r.search)}},this.triggerScrollTracking=function(){var t=document.getElementsByTagName("body")[0].getAttribute("scroll"),e=document.getElementsByTagName("body")[0].getAttribute("data-page-scroll"),a=h.getReferrerSection(),r=h.getPageName(),n=h.createCustomInfo(),i=h.getPlatformValue(),o=document.documentElement.getBoundingClientRect().height,s=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);e&&JSON.parse(e).forEach((function(t){d.add(t)})),(t||e)&&window.addEventListener("scroll",h.handleScrollTracking.bind(h,e,a,r,n,i,o,s))},this.handleScrollTracking=function(t,e,a,r,n,i,o){if(window.scrollY>0&&!u){u=!0;var s=new b.trackingConstructor(Object.assign({page:a,event:"PAGE_SCROLL",stage:"FIRST",referrer_section:e,customData:r,platform:n}));return b._track(s),this}t&&i>o&&d.size>0&&d.forEach((function(t){if(i*(t/100)<window.scrollY){l.add(t),d.delete(t);var o=new b.trackingConstructor(Object.assign({page:a,event:"PAGE_SCROLL",stage:"percent_"+t,referrer_section:e,customData:r,platform:n}));return b._track(o),this}}))},this.triggerPageView=function(){console.log("Trigger page view final time = ",Date.now());var t=h.getReferrerSection(),e=h.getPageName(),a=h.createCustomInfo(),r=h.getPlatformValue(),n=h.getScope(),i=h.getPageVersion(),s=h.getPageType();if(o.clear(),"SRP"==e||"GROUP_SRP"==e||"LOCATION_SRP"==e||"NPSRP"==e){var c=new b.trackingConstructor(Object.assign({page:e,event:"SEARCH",stage:"FINAL",referrer_section:t,customData:a,platform:r,scope:n,page_type:s,page_version:i}));return b._track(c),h.triggerTabView(),this}if(e&&""!=e)return c=new b.trackingConstructor(Object.assign({page:e,event:"PAGE_VIEW",stage:"FINAL",referrer_section:t,customData:a,platform:r,scope:n,page_type:s,page_version:i})),b._track(c),h.triggerTabView(),this},this.triggerTabView=function(){if(document.getElementById("tab-container")){var t=h.getPageName(),e=h.getPlatformValue(),a=document.getElementById("tab-container").getAttribute("tab-data");if(a){a=JSON.parse(a);var r=a?.label||"",n=h.createCustomInfo(null,a?.data),i=h.getPageVersion();if(r){document.prevTabData=a;var o=new b.trackingConstructor(Object.assign({page:t,event:"TAB_VIEW",stage:"FINAL",customData:n,platform:e,page_version:i,page_type:r}));b._track(o)}}}},this.triggerTabSearch=function(){if(document.getElementById("tab-container")){var t=h.getPageName(),e=h.getPlatformValue(),a=document.getElementById("tab-container").getAttribute("tab-data");if(a){a=JSON.parse(a);var r=a?.label||"",n=h.createCustomInfo(null,a?.data),i=h.getPageVersion();if(r){document.prevTabData=a;var o=new b.trackingConstructor(Object.assign({page:t,event:"TAB_SEARCH",stage:"FINAL",customData:n,platform:e,page_version:i,page_type:r}));b._track(o)}}}},this.triggerPageViewLoad=function(){console.log("Trigger page view load time = ",Date.now());var t=h.getReferrerSection(),e=h.getPageName(),a=h.createCustomInfo(),r=h.getPlatformValue(),n=h.getPageVersion(),i=h.getPageType(),o=h.getScope();if("SRP"==e||"GROUP_SRP"==e||"LOCATION_SRP"==e||"NPSRP"==e){var s=new b.trackingConstructor(Object.assign({page:e,event:"SEARCH",stage:"LOAD",referrer_section:t,customData:a,platform:r,scope:o,page_type:i,page_version:n}));return b._track(s),this}if(e&&""!=e)return s=new b.trackingConstructor(Object.assign({page:e,event:"PAGE_VIEW",stage:"LOAD",referrer_section:t,customData:a,platform:r,scope:o,page_type:i,page_version:n})),b._track(s),this},this.setPageStartTime=function(){var t=(new Date).getTime();window.trackingStore&&window.trackingStore.setStarttime(t)},this.triggerSectionLoaded=function(){var t=document.querySelectorAll("[data-label]");i.clear();for(var e=0;e<t.length;e++)t[e]&&t[e].getAttribute("topmost")&&"true"==t[e].getAttribute("data-section_load")&&h.setSectionLoad(t[e])},this.mutationCallBack=function(t,e){if(t[0]&&t[0].target)if(targetElement=t[0].target,console.log("element-ID on mutation callback = ",targetElement.getAttribute("id")),"tab-container"==targetElement.getAttribute("id")){const t=JSON.parse(targetElement.getAttribute("tab-data"));document.prevTabData?document.prevTabData.label!=t.label?h.triggerTabView():h.triggerTabSearch():h.triggerTabView();const e=new Event("tab_event");targetElement.dispatchEvent(e)}else"localitySrpClickstreamObject"==targetElement.getAttribute("id")?h.triggerPageView():"srpClickstreamObject"==targetElement.getAttribute("id")||"npsrpClickstreamObject"==targetElement.getAttribute("id")||"SRP"==targetElement.getAttribute("data-label")||"GROUP_SRP"==targetElement.getAttribute("data-label")||"LOCATION_SRP"==targetElement.getAttribute("data-label")||"NPSRP"==targetElement.getAttribute("data-label")?h.trackSearch(targetElement):h.triggerPageView()},this.mutationCallBackForDynamicElements=function(t,r){for(var i=document.querySelectorAll("[data-label]"),o=0;o<i.length;o++)i[o].getAttribute("data-layer")&&i[o].getAttribute("topmost")&&"true"==i[o].getAttribute("data-layer")&&(n&&!n.has(i[o])&&(n.add(i[o]),h.setSectionLoad(i[o]),i[o]&&i[o].addEventListener("click",h.triggerSectionClick.bind(h,i[o]))),e.unobserve(i[o]),e.observe(i[o])),n&&!n.has(i[o])&&(n.add(i[o]),i[o]&&i[o].getAttribute("topmost")&&!i[o].getAttribute("data-layer")&&(h.setSectionLoad(i[o]),i[o].getBoundingClientRect().height<=visualViewport.height?(e.unobserve(i[o]),e.observe(i[o])):(a.unobserve(i[o]),a.observe(i[o]))),i[o]&&i[o].addEventListener("click",h.triggerSectionClick.bind(h,i[o])))},this.trackSearch=function(t){var e="",a=h.getPageName();window.TrackingStore&&window.trackingStore.section&&(e=window.trackingStore.section);var r,n=h.getReferrerSection(),i=h.getPageVersion(),o=h.getPageType(),s="SEARCH",c=h.getScope();"CP_CATEGORY_NEW_LAUNCH"==a&&(s="PAGE_VIEW"),r=h.createCustomInfo(t);var g=h.getPlatformValue();if(a&&""!=a){var u=new b.trackingConstructor(Object.assign({},{page:a,event:s,section:e,stage:"FINAL",referrer_section:n,customData:r,platform:g,scope:c,page_type:o,page_version:i}));return b._track(u),this}},this.trackPageView=function(t){var e="",a=h.getPageName();window.TrackingStore&&window.trackingStore.section&&(e=window.trackingStore.section);var r,n=h.getReferrerSection();r=h.createCustomInfo(t);var i=h.getPlatformValue();if(a&&""!=a){var o=new b.trackingConstructor(Object.assign({},{page:a,event:"COMPARE",section:e,stage:"FINAL",referrer_section:n,customData:r,platform:i}));return b._track(o),this}},this.giveSectionName=function(t){for(count=0,sectionName="",traversedTarget=t;traversedTarget&&count<=15&&traversedTarget.nodeName&&"BODY"!=traversedTarget.nodeName;){if(traversedTarget.getAttribute("data-label")&&traversedTarget.getAttribute("topmost")){sectionName=traversedTarget.getAttribute("data-label");break}if(!traversedTarget.parentNode)break;traversedTarget=traversedTarget.parentNode,count++}return sectionName},this.setSectionLoad=function(t){var e="",a=h.getPageName(),r=0,n=h.getPageVersion(),o=h.getPageType(),s=h.getScope();"true"==t.getAttribute("data-layer")&&(r=1);var c="",g="";if(r&&(t.getAttribute("data-workflow")&&(g=t.getAttribute("data-workflow")),window.TrackingStore&&window.trackingStore.section&&(c=window.trackingStore.section)),t&&t.getAttribute("data-label")&&(e=t.getAttribute("data-label")),!i.has(e))if(i.add(e),t.getAttribute("data-section_load")&&"true"==t.getAttribute("data-section_load")){var u,l=h.getReferrerSection();u=h.createCustomInfo(t);var d=h.getPlatformValue(),m=h.getUiAttributes(t);if(a&&""!=a&&e){var f=new b.trackingConstructor(Object.assign({},{page:a,event:"SECTION_VIEW",section:e,stage:"LOAD",trigger:c,workflow:g,referrer_section:l,customData:u,platform:d,ui_attributes:m,scope:s,page_type:o,page_version:n}));return b._track(f),this}}else e&&console.log("(SECTION_VIEW + LOAD) section name = ",e)},this.addIntersectionObservableTargets=function(){for(var t=document.querySelectorAll("[data-label]"),r=0;r<t.length;r++)t[r].getAttribute("topmost")&&!t[r].getAttribute("data-layer")&&s&&!s.has(t[r].getAttribute("data-label"))&&(s.add(t[r].getAttribute("data-label")),t[r].getBoundingClientRect().height<=visualViewport.height?(e.unobserve(t[r]),e.observe(t[r])):(a.unobserve(t[r]),a.observe(t[r])))},this.addMutationObservableTargets=function(){var t=document.getElementsByTagName("BODY")[0];if(t){_.observe(t,{childList:!0,subtree:!0,attributeFilter:["data-label"]});var e={attributeFilter:["data-label"],attributes:!0};v.observe(t,e)}var a=document.getElementById("d_landmark_searchHeader");a&&(e={attributeFilter:["data-custominfo"],attributes:!0},v.observe(a,e));var r=document.getElementById("d_landmark_inPageSearchBox");r&&(e={attributeFilter:["data-custominfo"],attributes:!0},v.observe(r,e));var n=document.getElementById("pageClickstreamObject");n&&(e={attributeFilter:["value"],attributes:!0},v.observe(n,e));var i=document.getElementById("tab-container");i&&(e={attributeFilter:["tab-data"],attributes:!0},v.observe(i,e))},this.addsrpMutationObservableTargets=function(){var t=document.getElementById("srpClickstreamObject");t&&v.observe(t,{attributeFilter:["value"],attributes:!0})},this.addnpsrpMutationObservableTargets=function(){var t=document.getElementById("npsrpClickstreamObject");t&&v.observe(t,{attributeFilter:["value"],attributes:!0})},this.addLocalitySrpMutationObservableTargets=function(){var t=document.getElementById("localitySrpClickstreamObject");t&&v.observe(t,{attributeFilter:["value"],attributes:!0})},this.checkLayerOrNot=function(){for(var t=1,e=0,a=event.target,r=event.currentTarget,n=a;n&&t<=15&&n.nodeName&&"BODY"!=n.nodeName;){if(n.getAttribute("data-label")){if(n.getAttribute("data-label")!=r.getAttribute("data-label"))return e;for(;;){if(n&&n.getAttribute("topmost"))return n&&n.getAttribute("data-layer")&&"true"==n.getAttribute("data-layer")?e=1:e;if(!n||!n.parentNode||"BODY"==n.parentNode.nodeName)return e;n=n.parentNode}}if(!n.parentNode)break;n=n.parentNode,t++}return e},this.addClickListenersToAllElements=function(){for(var t=document.querySelectorAll("[data-label]"),e=0;e<t.length;e++)n&&!n.has(t[e])&&(n.add(t[e]),t[e]&&t[e].addEventListener("click",h.triggerSectionClick.bind(h,t[e])))},this.triggerSectionClick=function(t){var e=h.getReferrerSection(),a="",r=h.getPageName(),n=t.getAttribute("parent_name"),i=t.getAttribute("index"),o=h.getScope(),s=h.getPageVersion(),g=h.getPageType();a=h.setSectionName();var u="";if(n){var l=window.customDataInfo,d=l[n];if(l[n]&&d[i]){var m=document.createElement("div"),f=JSON.stringify({custom_object:d[i]});m.setAttribute("data-customInfo",f),u=h.createCustomInfo(m)}}else u=event.target.getAttribute("data-custominfo")?h.createCustomInfo(event.target):t&&t.getAttribute("data-custominfo")?h.createCustomInfo(t):h.createCustomInfo();var p=h.getPlatformValue(),v=h.getUiAttributes(t),_="",w="";if(h.checkLayerOrNot()){for(;t;){if(t.getAttribute("topmost")){t.getAttribute("data-layer")&&t.getAttribute("data-workflow")&&(w=t.getAttribute("data-workflow"));break}t.parentNode&&"BODY"!=t.parentNode.nodeName&&(t=t.parentNode)}window.TrackingStore&&window.trackingStore.section&&(_=window.trackingStore.section),a.match(/CLOSE/g)&&(c=[])}if(r&&""!=r&&a){var k=new b.trackingConstructor(Object.assign({},{page:r,event:"CLICK",section:a,stage:"FINAL",trigger:_,workflow:w,referrer_section:e,customData:u,platform:p,ui_attributes:v,scope:o,page_type:g,page_version:s}));return b._track(k),this}},this.makeSectionName=function(){var t,e=1,a="";t=h.checkLayerOrNot();for(var r=event.target;r&&e<=15&&r.nodeName&&"BODY"!=r.nodeName;){if(r.getAttribute("data-label")&&(a=""!=a?r.getAttribute("data-label")+"."+a:r.getAttribute("data-label")),r.getAttribute("topmost")){if(r&&!t){window.trackingStore.setSection(a);break}if(r&&t)break}if(!r.parentNode)break;r=r.parentNode,e++}return a},this.setSectionName=function(){for(var t=1,e=event.currentTarget,a=event.target;a&&t<=15&&a.nodeName&&"BODY"!=a.nodeName;){if(a.getAttribute("data-label"))return a.getAttribute("data-label")==e.getAttribute("data-label")?this.makeSectionName():"";if(!a.parentNode)break;a=a.parentNode,t++}return""},this.callingLayerSectionView=function(t){var e="",a=h.getPageName(),r="",n="",i="",o=h.getPlatformValue(),s=h.getPageVersion(),c=h.getPageType(),g=h.getScope(),u=t.getAttribute("parent_name"),l=t.getAttribute("index");if(t.getAttribute("data-workflow")&&(n=t.getAttribute("data-workflow")),window.TrackingStore&&window.trackingStore.section&&(i=window.trackingStore.section),t.getAttribute("data-label")&&(e=t.getAttribute("data-label")),u){var d=window.customDataInfo,m=d[u];if(d[u]&&m[l]){var f=document.createElement("div"),p=JSON.stringify({custom_object:m[l]});f.setAttribute("data-customInfo",p),r=h.createCustomInfo(f)}}else r=h.createCustomInfo(t);var v=h.getReferrerSection();if(a&&""!=a&&e){var _=new b.trackingConstructor(Object.assign({},{page:a,event:"SECTION_VIEW",stage:"FINAL",section:e,trigger:i,workflow:n,referrer_section:v,customData:r,platform:o,scope:g,page_type:c,page_version:s}));return b._track(_),this}},this.triggerSectionClickWithParams=function(t){var e=t.section_name,a=t.trigger,r=t.data_custominfo?t.data_custominfo:{},n=h.getReferrerSection(),i=h.getPageName(),o=e,s=t.page_version||"",c=t.page_type||"",g=h.getScope(),u="";if(r){var l=document.createElement("div");l.setAttribute("data-customInfo",r),u=h.createCustomInfo(l)}else u=h.createCustomInfo();var d=h.getPlatformValue();if(i&&""!=i&&o){var m=new b.trackingConstructor(Object.assign({},{page:i,event:"CLICK",section:o,stage:"FINAL",referrer_section:n,customData:u,platform:d,trigger:a,scope:g,page_type:c,page_version:s}));return b._track(m),this}},this.triggerSectionViewWithParams=function(t){var e=t.section_name,a=t.trigger,r=t.data_custominfo?t.data_custominfo:{},n=e,i=h.getPageName(),s="",c=h.getPlatformValue(),g=t.page_version||"",u=t.page_type||"",l=h.getScope();if(r){var d=document.createElement("div");d.setAttribute("data-customInfo",r),console.log(d),s=h.createCustomInfo(d)}var m=h.getReferrerSection();if(i&&""!=i&&n){o.add(d);var f=new b.trackingConstructor(Object.assign({},{page:i,event:"SECTION_VIEW",stage:"FINAL",section:n,referrer_section:m,customData:s,platform:c,trigger:a,scope:l,page_type:u,page_version:g}));return b._track(f),this}},this.sendRawTrackingWithParams=function(t){var e=t.section_name,a=t.data_custominfo?t.data_custominfo:{},r=t.event,n=t.stage,i=e,o=h.getPageName(),s="",c=h.getPlatformValue();if(a){var g=document.createElement("div");g.setAttribute("data-customInfo",a),s=h.createCustomInfo(g)}var u=h.getReferrerSection();if(o&&""!=o&&i){var l=new b.trackingConstructor(Object.assign({},{page:o,event:r,stage:n,section:i,referrer_section:u,customData:s,platform:c}));return b._track(l),this}},this.handlingLayerSectionViewTracking=function(t){console.log("handling layer section view tracking function = ",t.getAttribute("data-label"));var e=t.getAttribute("data-label");c.length>0?c.pop()!=e&&h.callingLayerSectionView(t):h.callingLayerSectionView(t),c.push(e)},this.intersectionCallbackBiggerSections=function(t){var e=h.getPlatformValue(),a=h.getPageName();t.forEach((function(t){t.target;var r=Math.floor(100*t.intersectionRatio),n=Math.floor(.75*visualViewport.height);if(t.intersectionRect.height>n&&"true"==t.target.getAttribute("topmost")){console.log("bigger section name = "+t.target.getAttribute("data-label")),console.log("interection ratio = "+r+"  entry.intersectionRect.height = "+t.intersectionRect.height);var i="",s="",c=h.getPageVersion(),g=h.getPageType(),u=h.getScope();t.target.getAttribute("data-label")&&(i=t.target.getAttribute("data-label"));var l=t.target.getAttribute("parent_name"),d=t.target.getAttribute("index");if(l){var m=window.customDataInfo,f=m[l];if(m[l]&&f[d]){var p=document.createElement("div"),v=JSON.stringify({custom_object:f[d]});p.setAttribute("data-customInfo",v),s=h.createCustomInfo(p)}}else s=h.createCustomInfo(t.target);var _=h.getReferrerSection();if(!o.has(t.target)&&(o.add(t.target),a&&""!=a&&i)){var w=new b.trackingConstructor(Object.assign({},{page:a,event:"SECTION_VIEW",stage:"FINAL",section:i,referrer_section:_,customData:s,platform:e,scope:u,scope:u,page_type:g,page_version:c}));return b._track(w),this}}}))},this.intersectionCallback=function(t){var e=h.getPlatformValue(),a=h.getPageName();t.forEach((function(t){if(t.target,Math.floor(100*t.intersectionRatio)>=75&&"true"==t.target.getAttribute("topmost")){if("true"==t.target.getAttribute("data-layer"))return void h.handlingLayerSectionViewTracking(t.target);var r="",n="",i=t.target.getAttribute("parent_name"),s=t.target.getAttribute("index"),c=h.getPageVersion(),u=h.getPageType(),l=h.getScope();if(t.target.getAttribute("data-label")&&(r=t.target.getAttribute("data-label")),i){var d=window.customDataInfo,m=d[i];if(d[i]&&m[s]){var f=document.createElement("div"),p=JSON.stringify({custom_object:m[s]});f.setAttribute("data-customInfo",p),n=h.createCustomInfo(f)}}else n=h.createCustomInfo(t.target);var v=h.getReferrerSection(),_=h.getUiAttributes(t.target);if(newSectionName=r.replace(".","_"),g[newSectionName]=(new Date).getTime(),!o.has(t.target)&&(o.add(t.target),a&&""!=a&&r)){var w=new b.trackingConstructor(Object.assign({},{page:a,event:"SECTION_VIEW",stage:"FINAL",section:r,referrer_section:v,customData:n,platform:e,ui_attributes:_,scope:l,page_type:u,page_version:c}));return b._track(w),this}}}))},this.setSessionSource=function(){for(var t,e=document.referrer,a=document.cookie.split(";"),n=1,i=0;i<a.length;i++)a[i].match("session_source")&&(n=0,t=a[i].split("=")[1]);if(n)""!=e&&!e||e.match(r)?document.cookie=e?"session_source = "+e+";domain=www.99acres.com ; path=/":"session_source = NOT_EXIST; domain=www.99acres.com; path=/":document.cookie=""==e?"session_source = DIRECT ;domain=www.99acres.com; path=/":"session_source = "+e+";domain=www.99acres.com; path=/";else{if(""==e&&"DIRECT"==t)return;if(!e&&"NOT_EXIST"==t)return;if(e==t)return;e==t||e.match(r)||(document.cookie="session_source = "+e+";domain=www.99acres.com ; path=/")}},this.createTrackDataCallForSectionOutEvent=function(){var t=(new Date).getTime(),e=h.getPageName(),a=h.getPlatformValue();if(window.trackingStore&&window.trackingStore.setEndtime(t),e&&""!=e&&window.trackingStore&&window.trackingStore.starttime&&window.trackingStore.endtime){var r=Object.assign({},{page:e,event:"SECTION_OUT",event_info:{start_time:window.trackingStore.starttime,end_time:window.trackingStore.endtime,id:"exist"},platform:a}),n=new b.trackingConstructor(Object.assign({},r));return b._track(n),this}},this.flushBatchBuffer=function(){b.postMessageToWorker({event:"beforeunload"})},this.triggerPauseEvent=function(){document.hidden&&"mobile"===h.getUserAgent()&&h.createTrackDataCallForSectionOutEvent()}};var h=new b.listeners;window.tracker=h,e=new IntersectionObserver(h.intersectionCallback,{root:null,rootMargin:"0px",threshold:[.75]}),a=new IntersectionObserver(h.intersectionCallbackBiggerSections,{root:null,rootMargin:"0px",threshold:[.1,.2,.25,.3,.4,.5,.6,.7,.75]});var v=new MutationObserver(h.mutationCallBack),_=new MutationObserver(h.mutationCallBackForDynamicElements);m()&&b.initializeBatching(5,3e4),window.addEventListener("load",h.callFunctionsOnLoad),document.addEventListener("DOMContentLoaded",h.callFunctionsOnBeforeLoad),window.addEventListener("focus",h.callFunctionsOnFocus),window.addEventListener("beforeunload",h.callFunctionsOnBeforeUnload),document.addEventListener("visibilitychange",h.callFunctionsOnPause)})(),{})));